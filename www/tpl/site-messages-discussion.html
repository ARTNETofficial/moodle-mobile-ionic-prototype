<ion-view view-title="{{discussion.from.name}}">
    <ion-content class="padding" delegate-handle="messagesScroll">
        <div ng-repeat="message in discussion.messages | orderBy:'time' track by $index">
            <p ng-if="showDate(message)" class="item-date"><span class="badge badge-stable">{{message.time | date:"EEE, d MMM"}}</span></p>
            <p class='item item-message item-text-wrap' ng-class='{"message-mine": message.mine}'>
                {{message.message}}
                <span class="item-note">{{message.time | date:"h:mma"}}</span>
            </p>
            <div class="clearfix"></div>
        </div>
    </ion-content>
</ion-view>
<ion-footer-bar class="item-input-inset">
    <label class="item-input-wrapper">
        <input type="search" placeholder="New message..." ng-model="newMessage">
    </label>
    <button class="button button-clear button-positive" ng-click="addMessage(newMessage); newMessage = '';">Send</button>
</ion-footer-bar>
